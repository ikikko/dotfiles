[user]
	name = nakamura
	email = nakamura@nulab.co.jp
[core]
	# http://stackoverflow.com/questions/136178/git-diff-handling-long-lines
	pager = less -r
	editor = vi
	quotepath = off
	excludesfile = ~/.gitignore.global
[Pager]
        log = diff-highlight | less -r
        show = diff-highlight | less -r
        diff = diff-highlight | less -r
[color]
	ui = true
[push]
	# push only the current branch
	default = tracking
[branch]
	autosetuprebase = always
[merge]
	# from 1.7.6
#	ff = false
[pull]
	# from 1.7.9
	rebase = true
[alias]
	# http://oli.jp/2012/git-powerup/
	# http://blog.blindgaenger.net/advanced_git_aliases.html
	alias = !git config --list | grep 'alias\\.' | sed 's/alias\\.\\([^=]*\\)=\\(.*\\)/\\1\\\t => \\2/' | sort
	b = branch
	br = browse-remote
	br1 = !git br `git log --oneline -n 1 --skip 0 --pretty=format:%H`
	br2 = !git br `git log --oneline -n 1 --skip 1 --pretty=format:%H`
	br3 = !git br `git log --oneline -n 1 --skip 2 --pretty=format:%H`
	br4 = !git br `git log --oneline -n 1 --skip 3 --pretty=format:%H`
	br5 = !git br `git log --oneline -n 1 --skip 4 --pretty=format:%H`
	br6 = !git br `git log --oneline -n 1 --skip 5 --pretty=format:%H`
	br7 = !git br `git log --oneline -n 1 --skip 6 --pretty=format:%H`
	br8 = !git br `git log --oneline -n 1 --skip 7 --pretty=format:%H`
	br9 = !git br `git log --oneline -n 1 --skip 8 --pretty=format:%H`
	# 引数が渡せると、もうちょっとすっきり書ける。こんな感じでできるんだろうけど、うまく動いていない
	# brn = "!f() { git log --oneline -n 1 --skip $1 --pretty=format:%H ; }; git br `f`"
	ci = commit
	co = checkout
	d = diff
	dc = diff --cached
	di = diff
	dic = diff --cached
	f = fetch --prune
	fs = !git f && git su
	ignore = !([ ! -e .gitignore ] && touch .gitignore) | echo $1 >> .gitignore
	info = remote show origin
	l = log --graph -n 20 --pretty=format:'%C(yellow)%h%C(cyan)%d%Creset %s %C(green)- %an, %cr%Creset'
	ll = log --stat --abbrev-commit
	ln = log --graph -n 20 --pretty=format:'%C(yellow)%h%C(cyan)%d%Creset %s %C(green)- %an, %cr%Creset' --name-status
	lp = log --oneline -n 20 -p
	ls = log --stat --abbrev-commit -n 1 # display previous log
	s = status --short --branch
	st = status
	su = submodule update
[browse-remote "github.com"]
	file = "https://{host}/{path}/{file.directory? and :tree or :blob}/{short_rev}/{file}{lines && \"#L%s\" % lines.join(\"-\")}"
	top = https://{host}/{path}
	ref = https://{host}/{path}/tree/{short_ref}
	rev = https://{host}/{path}/commit/{commit}
[browse-remote "nulab.backlog.jp"]
	file = "https://{host}/{path}/{file.directory? and :tree or :blob}/{short_rev}/{file}{lines && \"#L%s\" % lines.join(\"-\")}"
	top = https://{host}/{path}
	ref = https://{host}/{path}/tree/{short_ref}
	rev = https://{host}/{path}/commit/{commit}
[browse-remote "nulab.git.backlog.jp"]
	top = https://{host.gsub('.git.','.')}/git/{path}
	ref = https://{host.gsub('.git.','.')}/git/{path}/tree/{short_ref}
	rev = https://{host.gsub('.git.','.')}/git/{path}/commit/{commit}
	file = "https://{host.gsub('.git.','.')}/git/{path}/{file.directory? and :tree or :blob}/{short_rev}/{file}{lines && \"#L%s\" % lines.join(\"-\")}"
[web]
	browser = open
[credential]
	helper = osxkeychain
